22:47:53.239 [pool-1-thread-4] INFO  c.i.t.t.a.e.QueuedTradeExecutor - Excuting order BUY:
com.icoin.trading.tradeengine.domain.model.order.BuyOrder{id=5abf645a-c55f-4c95-8903-214f2390efd7}
22:47:53.243 [1740171089@qtp-194735511-0] DEBUG o.a.unitofwork.DefaultUnitOfWork - Publishing event [com.icoin.trading.tradeengine.domain.events.order.BuyOrderPlacedEvent] to event bus [org.axonframework.eventhandling.ClusteringEventBus@3756a51e]
22:47:53.243 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.243 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onBeforeConvert: com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}
22:47:53.243 [1740171089@qtp-194735511-0] DEBUG c.h.m.audit.AuditingEventListener - Entity id 5abf645a-c55f-4c95-8903-214f2390efd7 audit for class com.icoin.trading.tradeengine.query.order.OrderEntry: AuditMongo[createdBy = AuditUserMongo[id=buyer1], lastModifiedBy = AuditUserMongo[id=<null>], createdTime = 2013-12-20T14:47:53.243, lastModifiedTime = null]
22:47:53.244 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.244 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onBeforeSave: com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}, { "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}
22:47:53.244 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave(com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}, { "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0})
22:47:53.244 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - Inserting DBObject containing fields: [_class, _id, orderBookIdentifier, tradeAmount, userId, itemPrice, itemRemaining, type, placedDate, currencyPair, orderStatus, audit, version] in collection: orderEntry
22:47:53.245 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.245 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.245 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterSave: com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}, { "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}
22:47:53.245 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterSave(com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}, { "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0})
22:47:53.245 [1740171089@qtp-194735511-0] DEBUG o.a.unitofwork.DefaultUnitOfWork - All events successfully published.
22:47:53.245 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.unitofwork.NestableUnitOfWork - Stopping Unit Of Work
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.saga.AbstractSagaManager$2] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.saga.AbstractSagaManager$1] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] after commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.unitofwork.NestableUnitOfWork - Stopping Unit Of Work
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.saga.AbstractSagaManager$1] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Listeners successfully notified
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.saga.AbstractSagaManager$1] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Listeners successfully notified
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Listeners successfully notified
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.saga.AbstractSagaManager$2] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.saga.AbstractSagaManager$1] of cleanup
22:47:53.246 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Registering listener: org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] of cleanup
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] of cleanup
22:47:53.246 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Registering listener: org.axonframework.repository.LockingRepository$LockCleaningListener
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] of cleanup
22:47:53.246 [pool-1-thread-4] DEBUG o.a.unitofwork.NestableUnitOfWork - Committing Unit Of Work
22:47:53.246 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners of commit request
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.u.UnitOfWorkListenerCollection - Listeners successfully notified
22:47:53.246 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] of upcoming commit
22:47:53.246 [1740171089@qtp-194735511-0] DEBUG o.a.unitofwork.NestableUnitOfWork - Clearing resources of this Unit Of Work.
22:47:53.246 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] of upcoming commit
22:47:53.246 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Listeners successfully notified
22:47:53.246 [pool-1-thread-4] DEBUG o.a.unitofwork.DefaultUnitOfWork - Persisting changes to aggregates
22:47:53.246 [1740171089@qtp-194735511-0] INFO  c.i.t.webui.trade.TradeController - Buy order BuyOrder{coinId='BTC', coinName='Bitcoin', orderType='null', suggestedPrice=0, balance=0, amountCcy='BTC', priceCcy='CNY', tradeAmount=2, itemPrice=100} dispatched...
22:47:53.246 [pool-1-thread-4] DEBUG o.a.unitofwork.DefaultUnitOfWork - Persisting changes to [com.icoin.trading.tradeengine.domain.model.order.OrderBook], identifier: [8a6333b3-a618-45c5-9ffd-2937ed0b5a29]
22:47:53.246 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Registering listener: org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener
22:47:53.247 [pool-1-thread-4] DEBUG net.sf.ehcache.store.disk.Segment - put added 0 on heap
22:47:53.247 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "primaryKey" : "BTC"} fields: null for class: class com.icoin.trading.tradeengine.query.coin.CoinEntry in collection: coinEntry
22:47:53.247 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.247 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "_id" : "BTC"} in db.collection: test.coinEntry
22:47:53.247 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.247 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}
22:47:53.247 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0})
22:47:53.248 [pool-1-thread-4] DEBUG net.sf.ehcache.store.disk.Segment - put updated, deleted 0 on heap
22:47:53.248 [pool-1-thread-4] DEBUG net.sf.ehcache.store.disk.Segment - put updated, deleted 0 on disk
22:47:53.248 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.248 [pool-1-thread-4] DEBUG o.a.unitofwork.DefaultUnitOfWork - Aggregates successfully persisted
22:47:53.248 [pool-1-thread-4] DEBUG o.a.unitofwork.NestableUnitOfWork - This Unit Of Work is not nested. Finalizing commit...
22:47:53.248 [pool-1-thread-4] DEBUG o.a.unitofwork.DefaultUnitOfWork - Publishing events to the event bus
22:47:53.248 [pool-1-thread-4] DEBUG o.a.unitofwork.DefaultUnitOfWork - All events successfully published.
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners after commit
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] after commit
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] after commit
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] after commit
22:47:53.248 [pool-1-thread-4] DEBUG o.a.unitofwork.NestableUnitOfWork - Stopping Unit Of Work
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listeners of cleanup
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.EventCountSnapshotterTrigger$SnapshotTriggeringListener] of cleanup
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.repository.LockingRepository$LockCleaningListener] of cleanup
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Notifying listener [org.axonframework.eventsourcing.CachingEventSourcingRepository$CacheClearingUnitOfWorkListener] of cleanup
22:47:53.248 [pool-1-thread-4] DEBUG o.a.u.UnitOfWorkListenerCollection - Listeners successfully notified
22:47:53.248 [pool-1-thread-4] DEBUG o.a.unitofwork.NestableUnitOfWork - Clearing resources of this Unit Of Work.
22:47:53.248 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC}
22:47:53.248 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC})
22:47:53.249 [org%002espringframework%002ecache%002eehcache%002e%0045h%0043ache%0046actory%0042ean#6b839a22.data] DEBUG net.sf.ehcache.store.disk.Segment - fault removed 0 from heap
22:47:53.249 [org%002espringframework%002ecache%002eehcache%002e%0045h%0043ache%0046actory%0042ean#6b839a22.data] DEBUG net.sf.ehcache.store.disk.Segment - fault added 0 on disk
22:47:53.250 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - Executing aggregation: { "aggregate" : "orderEntry" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "BUY" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.248Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]}
22:47:53.250 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.250 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.250 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 400000000}
22:47:53.250 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.251 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 400000000}, PriceAggregate[price=100000,sumUpAmountPerPrice=400000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 400.000000000]
22:47:53.251 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.251 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}
22:47:53.251 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.251 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}, PriceAggregate[price=1000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 1.000000000]
22:47:53.251 [1740171089@qtp-194735511-0] DEBUG c.i.t.t.q.o.r.OrderQueryRepositoryImpl - aggregation { "aggregate" : "__collection__" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "BUY" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.248Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]} found :[PriceAggregate[price=100000,sumUpAmountPerPrice=400000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 400.000000000], PriceAggregate[price=1000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 1.000000000]]
22:47:53.252 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - Executing aggregation: { "aggregate" : "orderEntry" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.251Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]}
22:47:53.252 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.253 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.253 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 101000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}
22:47:53.253 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.253 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 101000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}, PriceAggregate[price=101000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 101.000000000]
22:47:53.253 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.253 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 10000000}
22:47:53.254 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.254 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 10000000}, PriceAggregate[price=100000,sumUpAmountPerPrice=10000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 10.000000000]
22:47:53.254 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.254 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 9990000000}
22:47:53.254 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.254 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 9990000000}, PriceAggregate[price=1000,sumUpAmountPerPrice=9990000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 99.900000000]
22:47:53.255 [1740171089@qtp-194735511-0] DEBUG c.i.t.t.q.o.r.OrderQueryRepositoryImpl - aggregation { "aggregate" : "__collection__" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.251Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]} found :[PriceAggregate[price=101000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 101.000000000], PriceAggregate[price=100000,sumUpAmountPerPrice=10000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 10.000000000], PriceAggregate[price=1000,sumUpAmountPerPrice=9990000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 99.900000000]]
22:47:53.255 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}, Fields: null, Sort: null
22:47:53.255 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"} fields: null for class: class com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry in collection: tradeExecutedEntry
22:47:53.255 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.256 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.256 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0}
22:47:53.256 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0})
22:47:53.256 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.257 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45495036474640efb4f85}
22:47:53.257 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45495036474640efb4f85})
22:47:53.257 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.257 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0}
22:47:53.257 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0})
22:47:53.257 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.257 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45562036474640efb4f9e}
22:47:53.258 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45562036474640efb4f9e})
22:47:53.258 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.258 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0}
22:47:53.258 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0})
22:47:53.258 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.258 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015a7}
22:47:53.258 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015a7})
22:47:53.259 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.259 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0}
22:47:53.259 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0})
22:47:53.259 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.259 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015aa}
22:47:53.259 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015aa})
22:47:53.260 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.260 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0}
22:47:53.260 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0})
22:47:53.260 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.261 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b456c00364658ed8c482dd}
22:47:53.261 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b456c00364658ed8c482dd})
22:47:53.261 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.261 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0}
22:47:53.262 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0})
22:47:53.262 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.263 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b4574b0364250b95789e32}
22:47:53.263 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b4574b0364250b95789e32})
22:47:53.263 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.r.q.StringBasedMongoQuery - Created query { "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "orderStatus" : "PENDING"}
22:47:53.263 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "orderStatus" : "PENDING"} fields: null for class: class com.icoin.trading.tradeengine.query.order.OrderEntry in collection: orderEntry
22:47:53.263 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.264 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.264 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0}
22:47:53.264 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0})
22:47:53.265 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.265 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=219439ec-135c-4db2-bc0a-0989e76a462d}
22:47:53.265 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=219439ec-135c-4db2-bc0a-0989e76a462d})
22:47:53.265 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.265 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}
22:47:53.265 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0})
22:47:53.266 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.266 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}
22:47:53.266 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7})
22:47:53.266 [1740171089@qtp-194735511-0] INFO  c.i.t.webui.trade.TradeController - queried active orders for user fb40547a-2a6f-44d4-bc48-bc82ca4e9528 with order book 8a6333b3-a618-45c5-9ffd-2937ed0b5a29: [com.icoin.trading.tradeengine.query.order.OrderEntry{id=219439ec-135c-4db2-bc0a-0989e76a462d}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}]
22:47:53.267 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.DispatcherServlet - Rendering view [org.springframework.web.servlet.view.RedirectView: name 'redirect:/index'; URL [/index]] in DispatcherServlet with name 'dispatcher'
22:47:53.267 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.DispatcherServlet - Successfully completed request
22:47:53.267 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.267 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
22:47:53.267 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/js/**'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/favicon.ico'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/style/**'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/fonts/**'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/image/**'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/login.jsp*'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/rest/**'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 1 of 10 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: 'org.springframework.security.core.context.SecurityContextImpl@2caf1542: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2caf1542: Principal: UserEntry{name='Buyer One', username='buyer1', password='ec5c9b91242f18e1ac487661d8b3ea4206701e0e'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@ffff4c9c: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 3ak7yzpwue8d; Granted Authorities: ROLE_USER'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 2 of 10 in additional filter chain; firing Filter: 'LogoutFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 3 of 10 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 4 of 10 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 5 of 10 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 6 of 10 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 7 of 10 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2caf1542: Principal: UserEntry{name='Buyer One', username='buyer1', password='ec5c9b91242f18e1ac487661d8b3ea4206701e0e'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@ffff4c9c: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 3ak7yzpwue8d; Granted Authorities: ROLE_USER'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 8 of 10 in additional filter chain; firing Filter: 'SessionManagementFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 9 of 10 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index at position 10 of 10 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/index.html'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/data/**'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/index'; against '/coin/*'
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /index; Attributes: [hasRole('ROLE_USER')]
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2caf1542: Principal: UserEntry{name='Buyer One', username='buyer1', password='ec5c9b91242f18e1ac487661d8b3ea4206701e0e'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@ffff4c9c: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 3ak7yzpwue8d; Granted Authorities: ROLE_USER
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4d3bc863, returned: 1
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
22:47:53.269 [1740171089@qtp-194735511-0] DEBUG o.s.security.web.FilterChainProxy - /index reached end of additional filter chain; proceeding with original chain
22:47:53.270 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.DispatcherServlet - DispatcherServlet with name 'dispatcher' processing GET request for [/index]
22:47:53.270 [1740171089@qtp-194735511-0] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Looking up handler method for path /index
22:47:53.270 [1740171089@qtp-194735511-0] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Returning handler method [public java.lang.String com.icoin.trading.webui.trade.TradeController.get(org.springframework.ui.Model)]
22:47:53.270 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'tradeController'
22:47:53.270 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.DispatcherServlet - Last-Modified value for [/index] is: -1
22:47:53.271 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"}}, Fields: null, Sort: null
22:47:53.271 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"}} fields: null for class: class com.icoin.trading.tradeengine.query.order.OrderBookEntry in collection: orderBookEntry
22:47:53.271 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.271 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"}} in db.collection: test.orderBookEntry
22:47:53.271 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.272 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderBookEntry" , "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "highestBuyId" : "7e1140c2-76c5-4607-bc92-a8ead010e303" , "lowestSellId" : "a0355ce8-3053-4f09-8d5c-9f5bb3403ca4" , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "highestBuyPrice" : { "amount" : 100000 , "currency" : "CNY"} , "lowestSellPrice" : { "amount" : 1000 , "currency" : "CNY"} , "buyTransactionId" : "d20de3a7-a22e-4c14-9ad8-fe4d33ffe96a" , "sellTransactionId" : "27a376bc-ca02-4102-9540-190990ea76b4" , "audit" : { "created_by" :  null  , "last_modified_by" :  null  , "last_modified_on" : "2013-12-20T14:42:19.942"} , "version" : 22}
22:47:53.272 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderBookEntry" , "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "highestBuyId" : "7e1140c2-76c5-4607-bc92-a8ead010e303" , "lowestSellId" : "a0355ce8-3053-4f09-8d5c-9f5bb3403ca4" , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "highestBuyPrice" : { "amount" : 100000 , "currency" : "CNY"} , "lowestSellPrice" : { "amount" : 1000 , "currency" : "CNY"} , "buyTransactionId" : "d20de3a7-a22e-4c14-9ad8-fe4d33ffe96a" , "sellTransactionId" : "27a376bc-ca02-4102-9540-190990ea76b4" , "audit" : { "created_by" :  null  , "last_modified_by" :  null  , "last_modified_on" : "2013-12-20T14:42:19.942"} , "version" : 22})
22:47:53.272 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.272 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderBookEntry" , "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "highestBuyId" : "7e1140c2-76c5-4607-bc92-a8ead010e303" , "lowestSellId" : "a0355ce8-3053-4f09-8d5c-9f5bb3403ca4" , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "highestBuyPrice" : { "amount" : 100000 , "currency" : "CNY"} , "lowestSellPrice" : { "amount" : 1000 , "currency" : "CNY"} , "buyTransactionId" : "d20de3a7-a22e-4c14-9ad8-fe4d33ffe96a" , "sellTransactionId" : "27a376bc-ca02-4102-9540-190990ea76b4" , "audit" : { "created_by" :  null  , "last_modified_by" :  null  , "last_modified_on" : "2013-12-20T14:42:19.942"} , "version" : 22}, com.icoin.trading.tradeengine.query.order.OrderBookEntry{id=8a6333b3-a618-45c5-9ffd-2937ed0b5a29}
22:47:53.272 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderBookEntry" , "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "highestBuyId" : "7e1140c2-76c5-4607-bc92-a8ead010e303" , "lowestSellId" : "a0355ce8-3053-4f09-8d5c-9f5bb3403ca4" , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "highestBuyPrice" : { "amount" : 100000 , "currency" : "CNY"} , "lowestSellPrice" : { "amount" : 1000 , "currency" : "CNY"} , "buyTransactionId" : "d20de3a7-a22e-4c14-9ad8-fe4d33ffe96a" , "sellTransactionId" : "27a376bc-ca02-4102-9540-190990ea76b4" , "audit" : { "created_by" :  null  , "last_modified_by" :  null  , "last_modified_on" : "2013-12-20T14:42:19.942"} , "version" : 22}, com.icoin.trading.tradeengine.query.order.OrderBookEntry{id=8a6333b3-a618-45c5-9ffd-2937ed0b5a29})
22:47:53.272 [1740171089@qtp-194735511-0] DEBUG c.i.t.w.t.f.i.TradeServiceFacadeImpl - Find by currencyPair BTC/CNY : com.icoin.trading.tradeengine.query.order.OrderBookEntry{id=8a6333b3-a618-45c5-9ffd-2937ed0b5a29}
22:47:53.272 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "userIdentifier" : "70b65ac8-7f90-42cc-91c4-2211cc5c48cb"}, Fields: null, Sort: null
22:47:53.273 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "userIdentifier" : "70b65ac8-7f90-42cc-91c4-2211cc5c48cb"} fields: null for class: class com.icoin.trading.tradeengine.query.portfolio.PortfolioEntry in collection: portfolioEntry
22:47:53.273 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.273 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "userIdentifier" : "70b65ac8-7f90-42cc-91c4-2211cc5c48cb"} in db.collection: test.portfolioEntry
22:47:53.273 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.273 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "_class" : "com.icoin.trading.tradeengine.query.portfolio.PortfolioEntry" , "userIdentifier" : "70b65ac8-7f90-42cc-91c4-2211cc5c48cb" , "userName" : "Buyer One" , "amountOfMoney" : { "amount" : 99800000 , "currency" : "CNY"} , "reservedAmountOfMoney" : { "amount" : 601000 , "currency" : "CNY"} , "itemsInPossession" : { "BTC" : { "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "amount" : { "amount" : 1000200000000 , "currency" : "BTC"}}} , "itemsReserved" : { } , "audit" : { "created_by" :  null  , "last_modified_by" : "buyer1" , "last_modified_on" : "2013-12-20T14:47:53.221"} , "version" : 18}
22:47:53.273 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "_class" : "com.icoin.trading.tradeengine.query.portfolio.PortfolioEntry" , "userIdentifier" : "70b65ac8-7f90-42cc-91c4-2211cc5c48cb" , "userName" : "Buyer One" , "amountOfMoney" : { "amount" : 99800000 , "currency" : "CNY"} , "reservedAmountOfMoney" : { "amount" : 601000 , "currency" : "CNY"} , "itemsInPossession" : { "BTC" : { "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "amount" : { "amount" : 1000200000000 , "currency" : "BTC"}}} , "itemsReserved" : { } , "audit" : { "created_by" :  null  , "last_modified_by" : "buyer1" , "last_modified_on" : "2013-12-20T14:47:53.221"} , "version" : 18})
22:47:53.274 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.274 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "_class" : "com.icoin.trading.tradeengine.query.portfolio.PortfolioEntry" , "userIdentifier" : "70b65ac8-7f90-42cc-91c4-2211cc5c48cb" , "userName" : "Buyer One" , "amountOfMoney" : { "amount" : 99800000 , "currency" : "CNY"} , "reservedAmountOfMoney" : { "amount" : 601000 , "currency" : "CNY"} , "itemsInPossession" : { "BTC" : { "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "amount" : { "amount" : 1000200000000 , "currency" : "BTC"}}} , "itemsReserved" : { } , "audit" : { "created_by" :  null  , "last_modified_by" : "buyer1" , "last_modified_on" : "2013-12-20T14:47:53.221"} , "version" : 18}, PortfolioEntry{amountOfMoney=CNY 99800.000, primaryKey='fb40547a-2a6f-44d4-bc48-bc82ca4e9528', userIdentifier='70b65ac8-7f90-42cc-91c4-2211cc5c48cb', userName='Buyer One', reservedAmountOfMoney=CNY 601.000, itemsInPossession={BTC=ItemEntry{coinIdentifier='BTC', coinName='Bitcoin', amount=BTC 10002.00000000}}, itemsReserved={}}
22:47:53.274 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "_class" : "com.icoin.trading.tradeengine.query.portfolio.PortfolioEntry" , "userIdentifier" : "70b65ac8-7f90-42cc-91c4-2211cc5c48cb" , "userName" : "Buyer One" , "amountOfMoney" : { "amount" : 99800000 , "currency" : "CNY"} , "reservedAmountOfMoney" : { "amount" : 601000 , "currency" : "CNY"} , "itemsInPossession" : { "BTC" : { "coinIdentifier" : "BTC" , "coinName" : "Bitcoin" , "amount" : { "amount" : 1000200000000 , "currency" : "BTC"}}} , "itemsReserved" : { } , "audit" : { "created_by" :  null  , "last_modified_by" : "buyer1" , "last_modified_on" : "2013-12-20T14:47:53.221"} , "version" : 18}, PortfolioEntry{amountOfMoney=CNY 99800.000, primaryKey='fb40547a-2a6f-44d4-bc48-bc82ca4e9528', userIdentifier='70b65ac8-7f90-42cc-91c4-2211cc5c48cb', userName='Buyer One', reservedAmountOfMoney=CNY 601.000, itemsInPossession={BTC=ItemEntry{coinIdentifier='BTC', coinName='Bitcoin', amount=BTC 10002.00000000}}, itemsReserved={}})
22:47:53.274 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "primaryKey" : "BTC"} fields: null for class: class com.icoin.trading.tradeengine.query.coin.CoinEntry in collection: coinEntry
22:47:53.274 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.274 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "_id" : "BTC"} in db.collection: test.coinEntry
22:47:53.274 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.275 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}
22:47:53.275 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0})
22:47:53.275 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.275 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC}
22:47:53.275 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC})
22:47:53.275 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "primaryKey" : "BTC"} fields: null for class: class com.icoin.trading.tradeengine.query.coin.CoinEntry in collection: coinEntry
22:47:53.275 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.275 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "_id" : "BTC"} in db.collection: test.coinEntry
22:47:53.276 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.276 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}
22:47:53.276 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0})
22:47:53.276 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.276 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC}
22:47:53.276 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC})
22:47:53.277 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "primaryKey" : "BTC"} fields: null for class: class com.icoin.trading.tradeengine.query.coin.CoinEntry in collection: coinEntry
22:47:53.277 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.277 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "_id" : "BTC"} in db.collection: test.coinEntry
22:47:53.277 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.277 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}
22:47:53.277 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0})
22:47:53.278 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.278 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC}
22:47:53.278 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "BTC" , "_class" : "com.icoin.trading.tradeengine.query.coin.CoinEntry" , "name" : "Bitcoin" , "coinPrice" : { "amount" : 10025341 , "currency" : "CNY"} , "coinAmount" : { "amount" : 1000000000000 , "currency" : "BTC"} , "tradeStarted" : true , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:25:07.825" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.coin.CoinEntry{id=BTC})
22:47:53.279 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - Executing aggregation: { "aggregate" : "orderEntry" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "BUY" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.278Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]}
22:47:53.279 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.280 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.280 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 400000000}
22:47:53.280 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.281 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 400000000}, PriceAggregate[price=100000,sumUpAmountPerPrice=400000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 400.000000000]
22:47:53.281 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.281 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}
22:47:53.281 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.281 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}, PriceAggregate[price=1000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 1.000000000]
22:47:53.281 [1740171089@qtp-194735511-0] DEBUG c.i.t.t.q.o.r.OrderQueryRepositoryImpl - aggregation { "aggregate" : "__collection__" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "BUY" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.278Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]} found :[PriceAggregate[price=100000,sumUpAmountPerPrice=400000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 400.000000000], PriceAggregate[price=1000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 1.000000000]]
22:47:53.283 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - Executing aggregation: { "aggregate" : "orderEntry" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.281Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]}
22:47:53.283 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.283 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.283 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 101000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}
22:47:53.284 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.284 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 101000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 100000000}, PriceAggregate[price=101000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 101.000000000]
22:47:53.284 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.284 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 10000000}
22:47:53.284 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.284 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 100000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 10000000}, PriceAggregate[price=100000,sumUpAmountPerPrice=10000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 10.000000000]
22:47:53.284 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.284 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 9990000000}
22:47:53.284 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.284 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "price" : 1000 , "priceCurrency" : "CNY" , "amountCurrency" : "BTC" , "sumUpAmountPerPrice" : 9990000000}, PriceAggregate[price=1000,sumUpAmountPerPrice=9990000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 99.900000000]
22:47:53.285 [1740171089@qtp-194735511-0] DEBUG c.i.t.t.q.o.r.OrderQueryRepositoryImpl - aggregation { "aggregate" : "__collection__" , "pipeline" : [ { "$match" : { "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} , "placedDate" : { "$lte" : { "$date" : "2013-12-20T14:47:53.281Z"}} , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}} , { "$group" : { "_id" : { "price" : "$itemPrice.amount" , "priceCurrency" : "$itemPrice.currency" , "amountCurrency" : "$itemRemaining.currency"} , "sumUpAmountPerPrice" : { "$sum" : "$itemRemaining.amount"}}} , { "$sort" : { "_id" : -1}} , { "$limit" : 10}]} found :[PriceAggregate[price=101000,sumUpAmountPerPrice=100000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 101.000000000], PriceAggregate[price=100000,sumUpAmountPerPrice=10000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 10.000000000], PriceAggregate[price=1000,sumUpAmountPerPrice=9990000000,priceCurrency=CNY,amountCurrency=BTC,total=CNY 99.900000000]]
22:47:53.285 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"}, Fields: null, Sort: null
22:47:53.285 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29"} fields: null for class: class com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry in collection: tradeExecutedEntry
22:47:53.285 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.286 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.286 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0}
22:47:53.286 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0})
22:47:53.286 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.287 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45495036474640efb4f85}
22:47:53.287 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b45495036474640efb4f85"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 50000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:29:12.950Z"} , "tradeType" : "Buy" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:30:45.163" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45495036474640efb4f85})
22:47:53.287 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.287 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0}
22:47:53.287 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0})
22:47:53.287 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.288 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45562036474640efb4f9e}
22:47:53.288 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b45562036474640efb4f9e"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 80000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:34:09.521Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:34:10.838" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b45562036474640efb4f9e})
22:47:53.288 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.288 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0}
22:47:53.288 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0})
22:47:53.289 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.289 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015a7}
22:47:53.289 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b455f503646130078015a7"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 20000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.555" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015a7})
22:47:53.289 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.289 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0}
22:47:53.289 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0})
22:47:53.290 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.290 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015aa}
22:47:53.290 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b455f503646130078015aa"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 30000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:36:37.138Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:36:37.610" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b455f503646130078015aa})
22:47:53.290 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.290 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0}
22:47:53.290 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0})
22:47:53.291 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.291 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b456c00364658ed8c482dd}
22:47:53.291 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b456c00364658ed8c482dd"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:39:59.906Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:40:00.317" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b456c00364658ed8c482dd})
22:47:53.291 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.291 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0}
22:47:53.292 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0})
22:47:53.292 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.292 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b4574b0364250b95789e32}
22:47:53.292 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "52b4574b0364250b95789e32"} , "_class" : "com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry" , "tradedAmount" : { "amount" : 10000000 , "currency" : "BTC"} , "tradedPrice" : { "amount" : 100000 , "currency" : "CNY"} , "coinName" : "Bitcoin" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeTime" : { "$date" : "2013-12-20T14:42:19.536Z"} , "tradeType" : "Sell" , "audit" : { "created_by" :  null  , "created_on" : "2013-12-20T14:42:19.911" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.tradeexecuted.TradeExecutedEntry{id=52b4574b0364250b95789e32})
22:47:53.293 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.r.q.StringBasedMongoQuery - Created query { "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "orderStatus" : "PENDING"}
22:47:53.293 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "orderStatus" : "PENDING"} fields: null for class: class com.icoin.trading.tradeengine.query.order.OrderEntry in collection: orderEntry
22:47:53.293 [1740171089@qtp-194735511-0] DEBUG o.s.data.mongodb.core.MongoDbUtils - Getting Mongo Database name=[test]
22:47:53.294 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.295 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0}
22:47:53.295 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0})
22:47:53.295 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.296 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=219439ec-135c-4db2-bc0a-0989e76a462d}
22:47:53.296 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "219439ec-135c-4db2-bc0a-0989e76a462d" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 100000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 1000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 100000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:46:47.225Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:46:47.274" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=219439ec-135c-4db2-bc0a-0989e76a462d})
22:47:53.296 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.296 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterLoad: { "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}
22:47:53.296 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0})
22:47:53.296 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.297 [1740171089@qtp-194735511-0] INFO  o.s.d.m.c.m.e.LoggingEventListener - onAfterConvert: { "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "5abf645a-c55f-4c95-8903-214f2390efd7" , "_class" : "com.icoin.trading.tradeengine.query.order.OrderEntry" , "orderBookIdentifier" : "8a6333b3-a618-45c5-9ffd-2937ed0b5a29" , "tradeAmount" : { "amount" : 200000000 , "currency" : "BTC"} , "userId" : "fb40547a-2a6f-44d4-bc48-bc82ca4e9528" , "itemPrice" : { "amount" : 100000 , "currency" : "CNY"} , "itemRemaining" : { "amount" : 200000000 , "currency" : "BTC"} , "type" : "BUY" , "placedDate" : { "$date" : "2013-12-20T14:47:53.226Z"} , "currencyPair" : { "baseCurrency" : "BTC" , "counterCurrency" : "CNY"} , "orderStatus" : "PENDING" , "audit" : { "created_by" : "buyer1" , "created_on" : "2013-12-20T14:47:53.243" , "last_modified_by" :  null } , "version" : 0}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7})
22:47:53.297 [1740171089@qtp-194735511-0] INFO  c.i.t.webui.trade.TradeController - queried active orders for user fb40547a-2a6f-44d4-bc48-bc82ca4e9528 with order book 8a6333b3-a618-45c5-9ffd-2937ed0b5a29: [com.icoin.trading.tradeengine.query.order.OrderEntry{id=219439ec-135c-4db2-bc0a-0989e76a462d}, com.icoin.trading.tradeengine.query.order.OrderEntry{id=5abf645a-c55f-4c95-8903-214f2390efd7}]
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.DispatcherServlet - Rendering view [org.springframework.web.servlet.view.JstlView: name 'index'; URL [/WEB-INF/jsp/index.jsp]] in DispatcherServlet with name 'dispatcher'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'org.springframework.validation.BindingResult.buyOrder' of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'buyOrder' of type [com.icoin.trading.webui.order.BuyOrder] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'sellOrder' of type [com.icoin.trading.webui.order.SellOrder] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'org.springframework.validation.BindingResult.orderBook' of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'activeOrders' of type [java.util.ArrayList] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'coin' of type [com.icoin.trading.tradeengine.query.coin.CoinEntry] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'org.springframework.validation.BindingResult.coin' of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'buyOrders' of type [java.util.Collections$UnmodifiableRandomAccessList] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'executedTrades' of type [java.util.ArrayList] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'orderBook' of type [com.icoin.trading.tradeengine.query.order.OrderBookEntry] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'org.springframework.validation.BindingResult.sellOrder' of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Added model object 'sellOrders' of type [java.util.Collections$UnmodifiableRandomAccessList] to request in view with name 'index'
22:47:53.297 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.view.JstlView - Forwarding to resource [/WEB-INF/jsp/index.jsp] in InternalResourceView 'index'
22:47:53.299 [1740171089@qtp-194735511-0] DEBUG o.s.c.s.ReloadableResourceBundleMessageSource - No properties file found for [/WEB-INF/messages/validation_zh_CN] - neither plain properties nor XML
22:47:53.299 [1740171089@qtp-194735511-0] DEBUG o.s.c.s.ReloadableResourceBundleMessageSource - No properties file found for [/WEB-INF/messages/validation_zh] - neither plain properties nor XML
22:47:53.299 [1740171089@qtp-194735511-0] DEBUG o.s.c.s.ReloadableResourceBundleMessageSource - Re-caching properties for filename [/WEB-INF/messages/validation] - file hasn't been modified
22:47:53.299 [1740171089@qtp-194735511-0] DEBUG o.s.c.s.ReloadableResourceBundleMessageSource - No properties file found for [/WEB-INF/messages/fields_zh_CN] - neither plain properties nor XML
22:47:53.300 [1740171089@qtp-194735511-0] DEBUG o.s.c.s.ReloadableResourceBundleMessageSource - No properties file found for [/WEB-INF/messages/fields_zh] - neither plain properties nor XML
22:47:53.300 [1740171089@qtp-194735511-0] DEBUG o.s.c.s.ReloadableResourceBundleMessageSource - Re-caching properties for filename [/WEB-INF/messages/fields] - file hasn't been modified
22:47:53.303 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler#0'
22:47:53.307 [1740171089@qtp-194735511-0] DEBUG o.s.web.servlet.DispatcherServlet - Successfully completed request
22:47:53.307 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'beanParameterResolverFactory'
22:47:53.308 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler#0'
22:47:53.309 [1740171089@qtp-194735511-0] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler#0'
22:47:53.311 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
22:47:53.311 [1740171089@qtp-194735511-0] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
db.orderEntry.aggregate([
                      { "$match" : { "orderStatus" : "PENDING" , "type" : "SELL"} },
                      { "$group" : { "_id" : "$itemPrice" , "amount" : { "$sum" : "$itemRemaining"}}} ,
                      { "$sort" : { "_id" : -1} }
                      ])


db.orderEntry.aggregate([
{ "$match" : { "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} , "placeDate" : { "$lte" : { "$date" : "2013-12-15T16:00:00.000Z"}} , "orderBookIdentifier" : "6359bd3f-4196-442d-84bf-fba40df584d0"}} ,
{ "$group" : { "_id" : "$itemPrice" , "amount" : { "$sum" : "$itemRemaining.amount"}}} ,
{ "$sort" : { "_id" : -1}} , { "$limit" : 10}])


"placedDate" : { "$lte" : ISODate("2013-12-15T16:00:00.000Z")} ,

,"placeDate" : { "$lte" : ISODate("2013-12-16")}

db.orderEntry.aggregate([
{ "$match" : { "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} ,"placedDate" : { "$lte" : ISODate("2013-12-16T16:00:00.000Z")} , "orderBookIdentifier" : "a13f20c3-b35a-4542-9a56-df689d2fc1dc"}} ,
{ "$group" : { "_id" : "$itemPrice" , "amount" : { "$sum" : "$itemRemaining.amount"}}} ,
{ "$sort" : { "_id" : -1}} , { "$limit" : 10}])


db.orderEntry.aggregate([
{ "$match" : { "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} ,"placedDate" : { "$lte" : ISODate("2013-12-16T16:00:00.000Z")} , "orderBookIdentifier" : "a13f20c3-b35a-4542-9a56-df689d2fc1dc"}} ,
{ "$group" : { "_id" :{ "amount" : "$itemPrice.amount", "priceCcy" : "$itemPrice.currency", "amountCcy" : "$itemRemaining.currency"}, "sum" : { "$sum" : "$itemRemaining.amount"}}} ,
{ "$sort" : { "_id" : -1}} , { "$limit" : 10}])



{ _id : { author: '$author', pageViews: '$pageViews', posted: '$posted' } }

db.orderEntry.find({ "orderStatus" : "PENDING" , "type" : "SELL" , "itemRemaining.amount" : { "$gt" : 0} , "orderBookIdentifier" : "6359bd3f-4196-442d-84bf-fba40df584d0"})


db.products.aggregate( {
     $group : {
               _id : { type :"$type", stocked : "$stocked"}
   } }
)



"tradeAmount" : { "amount" : (1050000000),"BTC" }, "itemPrice" :(1034567),"itemRemaining" : { "amount" : (0), "currency" : "BTC" }, "type" : "SELL", "placedDate" : ISODate("2013-12-16T16:00:00Z"), "orderStatus" : "DONE",
"tradeAmount" : { "amount" : (1050000000),"BTC" }, "itemPrice" :(1034567),"itemRemaining" : { "amount" : (100000000), "currency" : "BTC" }, "type" : "SELL", "placedDate" : ISODate("2013-12-16T16:00:00Z"), "orderStatus" : "DONE",
"tradeAmount" : { "amount" : ("102765449987770") "BTC" }, "itemPrice" :(1034567), "itemRemaining" : { "amount" : NumberLong("102765449987770")}, "type" : "SELL", "placedDate" : ISODate("2013-12-16T16:00:00Z"), "orderStatus" : "PENDING",
"tradeAmount" : { "amount" : (1050000000),"BTC" }, "itemPrice" :(1000000),"itemRemaining" : { "amount" : (100000000), "currency" : "BTC" }, "type" : "SELL", "placedDate" : ISODate("2013-12-16T16:00:00Z"), "orderStatus" : "PENDING",
"tradeAmount" : { "amount" : (1550000000),"BTC" }, "itemPrice" :(1000000),"itemRemaining" : { "amount" : (100000000), "currency" : "BTC" }, "type" : "SELL", "placedDate" : ISODate("2013-12-16T16:00:00Z"), "orderStatus" : "PENDING",


